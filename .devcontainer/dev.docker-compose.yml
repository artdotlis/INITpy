services:
  dev:
    user: devu
    env_file:
      - .env
    build:
      context: .
      dockerfile: configs/docker/dev.Dockerfile
      args:
        USERNAME: devu
        USER_UID: 1000
        USER_GID: 1000
        WORK_DIR: "/workspace"
        UV: ${UV_INSTALL_DIR}
        SSH_AUTH_SOCK: /ssh-agent
        GITCONFIG_PATH: ${GITCONFIG_PATH}
    volumes:
      - ${SSH_AUTH_SOCK:-/dev/null}:/ssh-agent
      - .:/workspace
      - ${GITCONFIG_PATH:-${HOME}/.gitconfig}:/etc/gitconfig:ro
    networks:
      - ollama

networks:
    ollama:
        name: ollama
        driver: bridge
